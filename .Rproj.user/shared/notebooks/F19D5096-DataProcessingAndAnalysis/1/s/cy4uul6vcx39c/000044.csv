"0","# set some parameters"
"0","N <- 1e6"
"0","thisMu <- 3.4"
"0","thisSize <- 10.3"
"0",""
"0","# generate data using the rnbinom() function"
"0","df_rnbinom <- tibble(subj = 1:N, "
"0","                     nEvents = rnbinom(N, thisSize, mu = thisMu), "
"0","                     thisFunction = ""rnbinom"")"
"0",""
"0","# generate data using the nbinomProcess() function"
"0","df_nbinomProcess <- tibble(subj = 1:N,"
"0","                           thisFunction = ""nbinomProcess"") "
"0","df_nbinomProcess$nEvents <- sapply(1:N, function(i){"
"0","  nbinomProcess(thisMu, thisSize, 1)"
"0","})"
"0","df_nbinomProcess$nEvents <- sapply(1:N, function(i){"
"0","  length(df_nbinomProcess$nEvents[[i]])"
"0","})"
"0",""
"0","# create figure to compare "
"0","rbind(df_rnbinom, df_nbinomProcess) %>% "
"0","  ggplot(aes(nEvents, fill = thisFunction)) + "
"0","  geom_histogram(binwidth = 1, "
"0","                 position = ""dodge"") + "
"0","  geom_line(data = tibble(x = 0:max(c(df_rnbinom$nEvents, df_nbinomProcess$nEvents)), "
"0","                          y = dnbinom(x, thisSize, mu = thisMu) * N),"
"0","            aes(x, y), "
"0","            inherit.aes = F) +"
"0","  geom_point(data = tibble(x = 0:max(c(df_rnbinom$nEvents, df_nbinomProcess$nEvents)), "
"0","                           y = dnbinom(x, thisSize, mu = thisMu) * N),"
"0","             aes(x, y), "
"0","             size = 3,"
"0","             inherit.aes = F) +"
"0","  scale_fill_flat()"
"0",""
